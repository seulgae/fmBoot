<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<!-- config -->
<th:block th:replace="fragments/config :: configFragment"></th:block>
<!-- header -->
<th:block th:replace="fragments/header :: headerFragment"></th:block>

<!-- 폰트 관련-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

<!-- 서머노트 관련 -->
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

<body>
    <div class="px-4 py-5 my-5 text-center" style="margin: 20px auto ; width : 1000px">
        <form>
            <table>
                <thead>
                    <tr>
                        <th colspan="2">
                            <span style="font-size: 20px; font-family:
                            'Noto Sans KR', sans-serif; font-weight: bold;">
                            커뮤니티 게시판 |&nbsp;상세 페이지
                            </span><br>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td colspan="2"><hr></td></tr>
                    <tr>
                        <td width="130px">
                            <span style="font-size:15px;">제목</span>
                        </td>
                        <td style="text-align:left;">
                            <span style="font-size:15px;" th:text="${blog.tb_title}"></span>
                        </td>
                    </tr>
                    <tr><td colspan="2"><hr></td></tr>
                    <tr>
                        <td colspan="2">
                            <span style="font-size:15px;" th:utext="${blog.tb_content}"></span>
                        </td>
                    </tr>
                    <tr><td colspan="2"><hr></td></tr>
                </tbody>
            </table>
            <!-- 자기 글이라면 버튼 나타나도록 조건줌 -->
            <button type="button" class="btn btn-success" style="float: right;" th:if="${blog.tb_id.toString().equals(m_id)}">
                <a th:href="|/blog/blogmod/${blog.tb_no}|" style="color:#fff;">수정</a>
            </button>
            <button type="button" class="btn btn-danger" style="float: right" th:if="${blog.tb_id.toString().equals(m_id)}">
                <a th:href="|/blog/blogdelete/${blog.tb_no}|" style="color:#fff;">삭제</a>
            </button>
            <button type="button" class="btn btn-secondary" style="float: right" onClick="history.go(-1)">취소</button>
        </form>
    </div>
    <div id="blogcomment">

    </div>
    <br>
</body>
<script>
$(function(){
  $.ajax({
          type: 'get'
        , url: 'http://localhost:8085/blog/blogcomment'
        , dataType : 'html'
        , success: function(data) {
            $("#blogcomment").html(data);
          }
  });
})
</script>
<!-- footer -->
<th:block th:replace="fragments/footer :: footerFragment"></th:block>
</html>